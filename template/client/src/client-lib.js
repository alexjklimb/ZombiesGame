!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["client-lib"]=t():e["client-lib"]=t()}(global,(function(){return e={150:e=>{"use strict";e.exports=JSON.parse('{"webpackDevPort":8080,"serverDevPort":3000}')},222:e=>{e.exports={client:{addCharacters:function(e){this.game[e]={}},getCharacters:function(e,t=function(){},i=function(){},o=function(){}){const{game:n}=this;n.room.listen(e+"/:id",(function(o){if("add"==o.operation){const{id:i,x:s,y:r}=o.value;n[e][i]={sprite:n.add.sprite(s,r,e),id:i},t(n[e][i],o.value)}else if("remove"==o.operation){const{id:t}=o.path;n[e][t].sprite.destroy(),delete n[e][t],i(t)}})),n.room.listen(e+"/:id/:attribute",(function(t){if("replace"==t.operation){const{id:i,attribute:s}=t.path;"x"!=s&&"y"!=s||(n[e][i].sprite[s]=t.value),o(i,s,t.value)}}))}},server:{setupCharacters:function(e){this.game.state[e]={}},createACharacter:function(e,t,i){this.game.state[e][t.sessionId]={...i,id:t.sessionId}},getACharacter:function(e,t){return this.game.state[e][t.sessionId]},deleteACharacter:function(e,t){delete this.game.state[e][t.sessionId]}}}},754:(e,t,i)=>{const{clientMethods:o,linkMethods:n}=i(225),s=i(150),r="localhost"===window.location.hostname?"ws://localhost:"+s.serverDevPort:`${window.location.protocol.replace("http","ws")}//${window.location.hostname}`;e.exports=class{constructor(){this.game=null,this.keys=null,this.endpoint=r}setup(e){this.game=e,e.room=null,e.roomJoined=!1,e.cursors=null,e.width=0,e.height=0,document.addEventListener("click",(function(t){if(e.click){const i=t.clientX-window.innerWidth/2,o=t.clientY-window.innerHeight/2;e.click(e.cameras.main.scrollX+window.innerWidth/2+i,e.cameras.main.scrollY+window.innerHeight/2+o)}})),n(this,o)}}},228:(e,t,i)=>{const o=i(391),n={connect:function(){const{game:e,endpoint:t}=this,i=new o.Client(t);let n=this;e.room=i.join("main",{}),e.room.onJoin.add((()=>{e.roomJoined=!0})),e.room.listen("board/:id",(function(e){"add"==e.operation&&(n.setSize(500,500),n.createSquare(0,0,e.value.width,e.value.height,e.value.color))}))},canSend:function(){return this.game.roomJoined},sendAction:function(e,t){t?this.game.room.send({[e]:!0,...t}):this.game.room.send({[e]:!0})}};e.exports={client:n,server:{handleActions:function(e,t){for(let i in e)t[i]&&e[i]()}}}},800:e=>{const t={drawBackground:function(e,t=1,i=this.game.width,o=this.game.height){const{game:n}=this,s=n.add.sprite(0,0,e);s.setScale(t),s.depth=0;let{width:r,height:a}=s;r*=t,a*=t;for(let s=0;s<=Math.floor(i/r)+1;s++)for(let i=0;i<=Math.floor(o/a)+1;i++)if(s>0||i>0){const o=n.add.sprite(r*s,a*i,e);o.setScale(t),o.depth=0}},createSquare:function(e,t,i,o,n){var s=new Phaser.Geom.Rectangle(e,t,i,o);this.game.add.graphics({fillStyle:{color:"0x"+n}}).fillRectShape(s)},createSprite:function(e,t,i,o=1){let n=this.game.add.sprite(t,i,e);return n.setScale(o),n}};e.exports={client:t,server:{setupBoard:function(e,t,i){this.boardWidth=e,this.boardHeight=t,this.game.state.board.board={width:e,height:t,color:i}}}}},417:e=>{e.exports={client:{setSize:function(e,t){const{game:i}=this;e>0&&(i.width=e),t>0&&(i.height=t)},loadImage:function(e,t){return this.game.load.image(e,"asset/"+t)},setupKeys:function(e){this.keys=this.game.input.keyboard.addKeys(e)},getKeysDown:function(){const e={};for(let t in this.keys)e[t]=this.keys[t].isDown;return e},cameraFollow:function(e){this.game.cameras.main.startFollow(e)},cameraBounds:function(e=this.game.width,t=this.game.height){this.game.cameras.main.setBounds(0,0,e,t)}}}},225:(e,t,i)=>{const o=i(222),n=i(228),s=i(800),r=i(417),a=i(488),c={...o.client,...n.client,...s.client,...r.client,...a.client},d={...o.server,...n.server,...s.server,...r.server,...a.server};e.exports={clientMethods:c,serverMethods:d,linkMethods:function(e,t){for(let i in t)e[i]=t[i].bind(e)}}},488:e=>{const t={setupResources:function(e){this.game.state[e]={},this.counts[e]=0},createResources:function(e,t){for(var i=0;i<t;i++){let t=Math.random()*boardWidth,i=Math.random()*boardHeight;this.createAResource(e,t,i)}},createAResource:function(e,t,i){this.counts[e]+=1,this.game.state[e][this.counts[e]]={id:this.counts[e],x:t,y:i,type:"resource",height:103,width:61}},deleteAResource:function(e,t){delete this.game.state[e][t]}};e.exports={client:{addResources:function(e){this.game[e]={}},getResources:function(e,t=function(){},i=function(){},o=function(){}){const{game:n}=this;n.room.listen(e+"/:id",(function(o){if("add"==o.operation){const{id:i,x:s,y:r}=o.value;n[e][i]={sprite:n.add.sprite(s,r,e),id:i},t(n[e][i],o.value)}else if("remove"==o.operation){const{id:t}=o.path;n[e][t].sprite.destroy(),delete n[e][t],i(t)}})),n.room.listen(e+"/:id/:attribute",(function(t){if("replace"==t.operation){const{id:i,attribute:s}=t.path;n[e][i].sprite[s]=t.value,o(i,s,t.value)}}))}},server:t}},391:e=>{"use strict";e.exports=require("colyseus.js")}},t={},function i(o){if(t[o])return t[o].exports;var n=t[o]={exports:{}};return e[o](n,n.exports,i),n.exports}(754);var e,t}));