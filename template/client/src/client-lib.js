!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["client-lib"]=t():e["client-lib"]=t()}(global,(function(){return e={150:e=>{"use strict";e.exports=JSON.parse('{"webpackDevPort":8080,"serverDevPort":3000}')},222:e=>{e.exports={client:{addCharacters:function(e){this.game[e]={}},getCharacters:function(e,t=function(){},n=function(){},o=function(){}){const{game:i,connectFuncs:s}=this;i.roomJoined?(i.room.listen(e+"/:id",(function(o){if("add"==o.operation){const{id:n,x:s,y:r}=o.value;i[e][n]={sprite:i.add.sprite(s,r,e),...o.value},t(i[e][n],o.value)}else if("remove"==o.operation){const{id:t}=o.path;i[e][t].sprite.destroy(),delete i[e][t],n(t)}})),i.room.listen(e+"/:id/:attribute",(function(t){if("replace"==t.operation){const{id:n,attribute:s}=t.path;"x"!=s&&"y"!=s||(i[e][n].sprite[s]=t.value),o(n,s,t.value)}}))):s.getCharacters=[e,t,n,o]}},server:{setupCharacters:function(e){this.game.state[e]={}},createACharacter:function(e,t,n){this.game.state[e][t.sessionId]={...n,id:t.sessionId}},getACharacter:function(e,t){return this.game.state[e][t.sessionId]},deleteACharacter:function(e,t){delete this.game.state[e][t.sessionId]}}}},754:(e,t,n)=>{const o=n(391),{clientMethods:i,linkMethods:s}=n(225),r=n(150),a="localhost"===window.location.hostname?"ws://localhost:"+r.serverDevPort:`${window.location.protocol.replace("http","ws")}//${window.location.hostname}`;e.exports=class{constructor(){this.game=null,this.keys=null,this.connectFuncs={},this.colyseus=new o.Client(a)}setup(e){this.game=e,e.room=null,e.roomJoined=!1,e.cursors=null,e.width=0,e.height=0,document.addEventListener("click",(function(t){if(e.click){const n=t.clientX-window.innerWidth/2,o=t.clientY-window.innerHeight/2;e.click(e.cameras.main.scrollX+window.innerWidth/2+n,e.cameras.main.scrollY+window.innerHeight/2+o)}})),s(this,i)}}},228:e=>{e.exports={client:{connect:function(e={}){const{game:t,colyseus:n,connectFuncs:o}=this;let i=this;t.room=n.join("main",e),t.room.onJoin.add((()=>{t.roomJoined=!0;for(let e in o)this[e](...o[e])})),t.room.listen("board/:id",(function(e){"add"==e.operation&&(i.setSize(500,500),i.createSquare(0,0,e.value.width,e.value.height,e.value.color))}))},canSend:function(){return this.game.roomJoined},sendAction:function(e,t){t?this.game.room.send({[e]:!0,...t}):this.game.room.send({[e]:!0})},myId:function(){return this.game.room.sessionId}},server:{handleActions:function(e,t){for(let n in e)t[n]&&e[n]()}}}},800:e=>{const t={drawBackground:function(e,t=1,n=this.game.width,o=this.game.height){const{game:i}=this,s=i.add.sprite(0,0,e);s.setScale(t),s.depth=0;let{width:r,height:a}=s;r*=t,a*=t;for(let s=0;s<=Math.floor(n/r)+1;s++)for(let n=0;n<=Math.floor(o/a)+1;n++)if(s>0||n>0){const o=i.add.sprite(r*s,a*n,e);o.setScale(t),o.depth=0}},createSquare:function(e,t,n,o,i){var s=new Phaser.Geom.Rectangle(e,t,n,o);this.game.add.graphics({fillStyle:{color:"0x"+i}}).fillRectShape(s)},createSprite:function(e,t,n,o=1){let i=this.game.add.sprite(t,n,e);return i.setScale(o),i}};e.exports={client:t,server:{setupBoard:function(e,t,n){this.boardWidth=e,this.boardHeight=t,this.game.state.board.board={width:e,height:t,color:n}}}}},417:e=>{e.exports={client:{setSize:function(e,t){const{game:n}=this;e>0&&(n.width=e),t>0&&(n.height=t)},loadImage:function(e,t){return this.game.load.image(e,"asset/"+t)},setupKeys:function(e){const{game:t,connectFuncs:n}=this;t.roomJoined?this.keys=this.game.input.keyboard.addKeys(e):n.setupKeys=[e]},getKeysDown:function(){const e={};for(let t in this.keys)e[t]=this.keys[t].isDown;return e},cameraFollow:function(e){this.game.cameras.main.startFollow(e)},cameraBounds:function(e=this.game.width,t=this.game.height){this.game.cameras.main.setBounds(0,0,e,t)}}}},225:(e,t,n)=>{const o=n(222),i=n(228),s=n(800),r=n(417),a=n(488),c=n(281),l={...o.client,...i.client,...s.client,...r.client,...a.client,...c.client},d={...o.server,...i.server,...s.server,...a.server};e.exports={clientMethods:l,serverMethods:d,linkMethods:function(e,t){for(let n in t)e[n]=t[n].bind(e)}}},488:e=>{const t={setupResources:function(e){this.game.state[e]={},this.counts[e]=0},createResources:function(e,t){for(var n=0;n<t;n++){let t=Math.random()*boardWidth,n=Math.random()*boardHeight;this.createAResource(e,t,n)}},createAResource:function(e,t,n){this.counts[e]+=1,this.game.state[e][this.counts[e]]={id:this.counts[e],x:t,y:n,type:"resource",height:103,width:61}},deleteAResource:function(e,t){delete this.game.state[e][t]}};e.exports={client:{addResources:function(e){this.game[e]={}},getResources:function(e,t=function(){},n=function(){},o=function(){}){const{game:i}=this;i.room.listen(e+"/:id",(function(o){if("add"==o.operation){const{id:n,x:s,y:r}=o.value;i[e][n]={sprite:i.add.sprite(s,r,e),id:n},t(i[e][n],o.value)}else if("remove"==o.operation){const{id:t}=o.path;i[e][t].sprite.destroy(),delete i[e][t],n(t)}})),i.room.listen(e+"/:id/:attribute",(function(t){if("replace"==t.operation){const{id:n,attribute:s}=t.path;i[e][n].sprite[s]=t.value,o(n,s,t.value)}}))}},server:t}},281:e=>{function t(e){console.log(e+" is joining...")}const n=e=>e.join("\n");function o({lives:e}){const t=[];for(let n=0;n<e;n++)t.push('<span class="life"></span>');return n(t)}const i={useLoginScreen:function(e=t,n="IO Game",o="Display Name",i="START"){document.getElementById("input-overlay").innerHTML=`<div class="login">\n    <h1>${n}</h1>\n    <input id="displayName" type="text" placeholder="${o}" />\n    <button id="start-button">${i}</button>\n  </div>`,document.getElementById("input-overlay").style.display="flex",document.getElementById("start-button").onclick=function(){const t=document.getElementById("displayName").value||"player";document.getElementById("input-overlay").style.display="none",document.querySelector("#input-overlay > .login").style.display="none",e(t)}},handleLeaderboard:function(e,t="Leaderboard"){const{game:i}=this;document.querySelector("#game-overlay > .leaderboard").innerHTML=n([`<h3>${t}</h3>`,...Object.entries(i[e]).map((([e,t])=>`<div class="player" id="${e}">\n      ${"number"==typeof t.lives?n(['<div class="lives">',o(t),"</div>"]):""}\n        <div class="text">\n          ${"string"==typeof t.name?n(['<p class="name"'+(this.myId()===e?' style="color: #8BE1FF;"':"")+">",t.name,"</p>"]):""}\n          ${"number"==typeof t.score?n(['<p class="score"'+(this.myId()===e?' style="color: #8BE1FF;"':"")+">",t.score,"</p>"]):""}\n        </div>\n      </div>`))])}};e.exports={client:i}},391:e=>{"use strict";e.exports=require("colyseus.js")}},t={},function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}(754);var e,t}));